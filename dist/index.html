<html>
    <head>
        <script type="importmap">
            {
             "imports": {
                "vue":"https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.8/vue.esm-browser.min.js",
                "jquery":"https://code.jquery.com/jquery-3.6.0.slim.min.js",
                "chart":"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js",
                "summernote":"https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.20/summernote.min.js",
                "components":"./components.esm.js"
             }
           }
       </script>
    </head>
    <body>
        <div id="main">
            <Promised :promise="promise">
                <template v-slot="{response}">
                    {{response.toString()}}
                </template>
            </Promised>
            <Promised :promise="promiseError">
                <template v-slot="response">
                    {{response}}
                </template>
            </Promised>
            <Message type="dark" :hasDelete="true" size="large">
                This is a test, this is only a test
            </Message>
            <Component-Form :elements="elements" :translate="translate" @value_changed="(value)=>console.log(value)"/>
        </div>
        <script type="module">
            import { createApp,ref} from "vue";
            import {Message,ComponentForm,Promised} from 'components';

            window.lst = createApp({
                components: { 
                    Message,
                    ComponentForm,
                    Promised
                },
                data:()=>{
                    return {
                        promise:new Promise((resolve)=>{
                            console.log('promise invoked...');
                            setTimeout(()=>resolve('testing'),15*1000)
                        }),
                        promiseError:new Promise((resolve,rejected)=>{
                            console.log('rejected invoked...');
                            setTimeout(()=>rejected('testing'),15*1000)
                        }),
                        elements:[
  {
    "type": "text",
    "subtype": "text",
    "label": "LoginForm.Username",
    "name": "uname",
    "required": true
  },
  {
    "type": "text",
    "subtype": "password",
    "label": "LoginForm.Password",
    "name": "password",
    "required": true
  }
]
                    };
                }     ,
                methods:{
                    translate :(value)=>{
                        console.log(value);
                        switch(value){
                            case 'LoginForm.Username': return 'Username';
                            case 'LoginForm.Password': return 'Password';
                            default: return value;
                        }
                    }
                }           
            }).mount('#main');
        </script>
    </body>
</html>